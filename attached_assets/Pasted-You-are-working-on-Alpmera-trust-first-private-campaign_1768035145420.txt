You are working on Alpmera (trust-first private campaign + escrow marketplace). Implement the unified route map (public + authed user + admin) AND add route guards in ONE pass with minimal Replit credits.

ROUTE COMPATIBILITY RULE (NON-NEGOTIABLE):
- Before creating any new route file, scan the codebase for an existing route that matches the same semantic page.
- If an equivalent route already exists (even if naming differs, e.g., campaign_rules vs campaign-rules):
  1) Keep the existing route as the CANONICAL route (do not rename/move it in this task).
  2) Do NOT create a duplicate page.
  3) If the new sitemap uses a different path, implement a lightweight alias redirect from the new path to the canonical one.
  4) Update navigation to always link to the canonical route.
- Only create a new route when no equivalent page exists.

NON-NEGOTIABLE DOCTRINE / LANGUAGE:
- Users JOIN campaigns; never use buy/order/checkout.
- Money is LOCKED in escrow; releases/refunds are controlled events.
- Alpmera is not a retailer; it’s a clearing house coordinating campaigns.
- Prefer append-only timelines for money/state changes.
- Targets are UNITS (integer), not money.
- Auth is PASSWORDLESS: email + one-time code (OTP). No change-password UI.

LOW-CREDIT WORKING MODE:
- Do NOT redesign UI or rewrite existing layouts.
- Reuse existing routing/layout patterns and admin shell.
- Create placeholder pages if needed, but generate ALL routes now.
- Centralize guard logic (one guard component/hook/middleware) reused everywhere.

GOAL:
- All routes exist and render.
- Route access is correctly enforced for:
  1) Public (not logged in)
  2) Logged-in user
  3) Admin
- Campaign pages work in both public and authed contexts (public read-only; authed shows “Join/Commitment panel”).

IMPLEMENTATION PLAN (DO IN ORDER):

1) Define the Unified Route Map (create files/routes)
Create these routes (and minimal page components) if missing:

PUBLIC ROUTES (no auth required)
- /                       (Home)
- /campaigns              (Campaign List – public)
- /campaigns/:id          (Campaign Detail – public read-only)
- /how-it-works
- /faq

AUTH ROUTES (passwordless)
- /auth/sign-in           (email input)
- /auth/verify            (OTP code entry)

AUTHED USER ROUTES (must be logged in)
- /account
  - /account/profile
  - /account/commitments
  - /account/commitments/:id
  - /account/payments-escrow
  - /account/payments-escrow/:id
  - /account/refunds
  - /account/refunds/:id
  - /account/security

AUTHED CAMPAIGN ROUTES (same paths, but behavior differs when logged in)
- /campaigns              (Campaign List – authed view)
- /campaigns/:id          (Campaign Detail – authed view with commitment panel)

ADMIN ROUTES (must be admin)
- /admin
- /admin/campaigns
- /admin/campaigns/:id
- /admin/users
- /admin/users/:id
- /admin/suppliers
- /admin/suppliers/:id
- /admin/consolidation-points
- /admin/consolidation-points/:id
- /admin/payments-escrow
- /admin/payments-escrow/releases
- /admin/payments-escrow/refunds
- /admin/disputes
- /admin/disputes/:id
- /admin/configuration
- /admin/configuration/campaign-rules
- /admin/configuration/platform-limits
- /admin/configuration/reference-tables
- /admin/security
- /admin/security/admin-roles
- /admin/security/access-logs
- /admin/security/system-audit-trail

2) Add Centralized Guard System (single source of truth)
Implement ONE reusable guard mechanism compatible with the current stack (e.g., middleware/route wrapper/hook):
- Auth state:
  - isAuthenticated (boolean)
  - user role: “USER” or “ADMIN”
- Guards:
  - PublicOnlyGuard: blocks authed users from auth pages if desired (optional)
  - AuthGuard: requires authenticated user
  - AdminGuard: requires authenticated + admin role

Apply guards:
- Public routes: no guard
- /auth/*: PublicOnlyGuard (optional) OR allow authed but redirect to /account
- /account/*: AuthGuard
- /admin/*: AdminGuard

3) Route Behavior Rules (no duplicate routes)
Do NOT create separate URLs for public vs authed campaigns.
Instead:
- /campaigns and /campaigns/:id should render a single page component each.
- Inside those pages, switch between “public mode” and “authed mode” using auth state:
  - Public mode: read-only + “Sign in to join” gate
  - Authed mode: show commitment panel and user-specific state
Keep all wording aligned: join/commitment/escrow.

4) Layout Shells (minimal changes)
- Keep existing global layout.
- Ensure Admin routes use an Admin layout/shell (reuse existing admin nav/sidebar).
- Ensure Account routes use an Account layout/shell (reuse existing account nav).

5) Stub Pages (only if missing)
If any route has no page yet, create minimal placeholders that clearly label:
- page title
- section placeholders (do not design)
This is only to ensure routing + guards work end-to-end in one run.

6) Redirect Rules (simple, predictable)
- If a user hits an AuthGuard route unauthenticated → redirect to /auth/sign-in with returnTo parameter.
- If a non-admin hits /admin/* → redirect to / (or a 403 page if already exists).
- After OTP verification success → redirect to returnTo if present; else /account/commitments.

7) Acceptance Criteria (must pass)
- Navigating to /admin while logged out always redirects to /auth/sign-in.
- Navigating to /admin while logged in as non-admin redirects away (no admin content visible).
- Navigating to /account/* while logged out redirects to /auth/sign-in.
- /campaigns and /campaigns/:id work for both public and logged-in users with correct conditional sections.
- No password/change-password pages or UI exist.

IMPORTANT: Do not modify payment/escrow business logic, database schemas, or state machines in this task. This task is ONLY routes + guards + minimal placeholders.
