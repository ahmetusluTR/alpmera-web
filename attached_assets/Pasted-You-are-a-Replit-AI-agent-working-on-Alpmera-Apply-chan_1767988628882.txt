You are a Replit AI agent working on Alpmera. Apply changes directly. The user does NOT manually edit code.

BATCH: Campaign Detail auth gating inconsistency + stepper label mapping (minimal, low-credit)

PROBLEM:
Campaign Detail page shows inconsistent signed-in state:
- Header shows Account (user is signed in)
- But the Participation card sometimes still shows “Sign in to join”
This indicates the page has multiple auth sources/flags and they disagree (stale state, different hooks, or cached value).

GOAL:
1) Campaign Detail must use EXACTLY ONE source of truth for signed-in state.
2) After login, the Participation card must immediately show “Join campaign” without refresh.
3) Stepper labels must not show raw internal labels like “Aggregation”; use friendly labels.

GUARDRAILS:
- Do NOT change backend auth, cookies, escrow, ledger, idempotency.
- No new libraries.
- Keep changes to as few files as possible (ideally: Auth hook/context + CampaignDetail + Stepper labels helper).
- No store language.

IMPLEMENTATION PLAN (DO THIS EXACTLY):

A) Identify canonical auth source already used by Header
- Find the header component that conditionally shows “Account” vs “Sign in”.
- Trace what it uses (AuthContext? useMe? /api/me?).
- Reuse the SAME source in Campaign Detail. Do NOT create a new auth system.

B) Remove/replace any local `isAuthenticated` / `loggedIn` / `user` state inside Campaign Detail
- Campaign Detail must NOT maintain its own boolean that can go stale.
- Replace all conditional rendering checks with a single `isSignedIn` computed from the canonical auth source.

Canonical definition:
- `isSignedIn = !!me?.id` (or `!!me?.email`) based on /api/me response.

C) Ensure Campaign Detail re-renders after login
- If canonical auth is context-based: just consume it and it will rerender.
- If canonical auth is /api/me-based and cached:
  - Ensure login success triggers a refresh of the cache OR refetch.
  - Add a lightweight global event ONLY if needed:
    - Dispatch `window.dispatchEvent(new Event("alpmera-auth-changed"))` on login success.
    - In the canonical auth provider/hook, listen and refetch /api/me.
  IMPORTANT: Do NOT add the listener only to Campaign Detail; fix it once in the shared auth source so all pages stay consistent.

D) Fix the Participation card CTA logic
- If !isSignedIn: show “Sign in to join” and navigate to the existing sign-in route with returnTo
- If isSignedIn: show “Join campaign” and route to the existing wizard entry point

E) Fix stepper label mapping (the “Aggregation / Target Met / Fulfillment / Released” row)
- The top status pill is already mapped (“Building momentum”), but the stepper still shows raw labels.
- Update the stepper component to use friendly labels:
  - Aggregation -> “Building momentum”
  - Target Met -> “Target reached”
  - Fulfillment -> “In fulfillment”
  - Released -> “In fulfillment” (or “Completed” if you already decided that elsewhere)
- Keep internal step keys unchanged; only change displayed text.

ACCEPTANCE TESTS:
1) Open campaign detail signed out -> see “Sign in to join”.
2) Click sign in, complete login -> return to same campaign detail -> must show “Join campaign” immediately.
3) If login happens from header while staying on campaign detail -> must update without refresh.
4) Header and campaign detail must always agree (both show signed-in state consistently).
5) Stepper must not display “Aggregation” raw label anymore.

DELIVERABLE:
- Fix implemented with minimal file changes.
- List files changed and summary (no large code dump).
