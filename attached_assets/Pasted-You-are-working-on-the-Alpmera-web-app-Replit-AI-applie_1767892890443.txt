You are working on the Alpmera web app (Replit AI applies changes). Implement Account → Commitments (Batch 2) using the existing backend and existing auth/session system.

STRICT RULES:
- NEVER use store language: buy, order, checkout, cart, purchase, deal, discount, flash.
- ONLY use: campaign, commitment, escrow, release, refund, fulfillment.
- Do NOT change database schema, triggers, ledger logic, idempotency, admin auth rules, or campaign state machine.
- Keep changes scoped to Account module: Commitments list + commitment detail page + related API consumption.
- Optimize for low Replit credits: reuse existing components, patterns, types, and formatting utilities. Do not introduce new heavy libraries.
- No prices in Account pages.

SCOPE OF THIS BATCH (Commitments only):
A) Commitments list page: /account/commitments
B) Commitment detail page: /account/commitments/:commitmentCode  (or :id if already used; prefer commitmentCode)
C) Use the shared AccountShell and shared Timeline component created in Batch 1.
D) Delivery timeline is detail-only.

AUTH GUARD:
- All routes must require authenticated session using the existing /api/me-based guard.
- If unauthenticated, redirect to existing login flow (no auth logic changes).

DATA REQUIREMENTS (NO BACKEND BREAKAGE):
1) Use existing commitments endpoint(s) if present.
   - Search for existing API routes already used by the commitment wizard or admin console.
   - Prefer reusing: GET /api/account/commitments (list) and GET /api/account/commitments/:code (detail) IF THEY EXIST.
   - If they don’t exist, add minimal NEW backend endpoints under /api/account/* that only READ existing tables.
   - Do NOT modify existing write endpoints.
   - Do NOT expose supplier-private pricing.

2) Commitments list columns (table):
   - Campaign name
   - Commitment code
   - Joined date
   - Campaign status
   - Last campaign status update date  (NEW)
   - User commitment status
   Notes:
   - “Joined date” should come from the commitment creation/lock time.
   - “Last campaign status update date” must reflect the most recent campaign status change event time (not “updated_at” unless that is truly status-change time).
   - If the system does not currently store campaign status history, derive last status update as best-effort from the latest status transition record/event/ledger; if unavailable, fall back to campaign.updatedAt but label internally as best-effort (UI still shows a date).
   - Sorting: default newest Joined date first.

3) Commitment detail page content:
   Header:
   - Campaign name + commitment code
   - Current campaign status + current user commitment status
   Sections:
   (a) Product summary (read-only)
       - Use campaign’s product summary fields already present on campaign details page (title, short description, key specs if available).
       - No price.
   (b) Campaign status timeline (Timeline component)
       - Show each campaign status transition as an append-only item:
         title: “Campaign status → <STATUS>”
         date: transition date
         description/meta: optional reason or thresholds if available (e.g., “Threshold reached” or “Expired”)
   (c) User commitment timeline (Timeline component)
       - Show key user events:
         - “Commitment locked in escrow” (joined date)
         - If released/refunded exists for that commitment, show those events with dates and reference IDs if available.
       - Use only user-visible, non-store language.
   (d) Delivery timeline (detail-only, Timeline component)
       - Show delivery milestones if delivery tracking exists (e.g., “Fulfillment initiated”, “In transit”, “Delivered”).
       - If delivery tracking does not exist yet, render a placeholder message: “Delivery updates will appear here once fulfillment begins.” (No mock dates.)

4) Linking rules:
   - From list → detail via commitment code.
   - On detail page include read-only links:
     - “View campaign” linking to the existing campaign details page route.
     - If escrow detail page exists, link to “View escrow movements” (read-only) pointing to /account/escrow and/or specific movement if you have a direct id.
   - Do not add any actions/buttons that mutate state.

UI/UX REQUIREMENTS:
- List → detail pattern must match agreed Account UX principles.
- Keep the UI simple, audit-like, and consistent with Timeline component.
- Empty/loading/error states:
  - Loading skeleton or simple “Loading…”
  - Empty state: “No commitments yet.”
  - Error: “Unable to load commitments.” with a Retry button that refetches.

IMPLEMENTATION GUIDANCE:
- Prefer adding minimal types/interfaces for:
  - CommitmentListItem
  - CommitmentDetail
  - TimelineItem (already exists)
- Reuse any existing date formatting utility.
- Avoid duplicating styling; reuse existing table/card components if present.
- Ensure navigation highlight remains correct in AccountShell.

ACCEPTANCE CHECKLIST:
- /account/commitments shows a table with the required columns, no prices, no store language.
- Clicking a row opens /account/commitments/:commitmentCode detail.
- Detail shows product summary + 3 timelines (campaign status, user commitment, delivery).
- Campaign status timeline includes last status update date used in list.
- Auth guard works; unauthenticated users are redirected.
- No regressions to campaign pages, commitment wizard, admin console, or backend write logic.

After implementing:
- Output a short summary of files changed/added, new routes, and which API endpoints were reused or created.
- Do not output large code dumps.
